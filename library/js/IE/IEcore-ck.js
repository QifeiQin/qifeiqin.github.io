(function(e,t,n){function c(e){var t={},r=/^jQuery\d+$/;n.each(e.attributes,function(e,n){n.specified&&!r.test(n.name)&&(t[n.name]=n.value)});return t}function h(e,t){var r=this,i=n(r);if(r.value==i.attr("placeholder")&&i.hasClass("placeholder"))if(i.data("placeholder-password")){i=i.hide().next().show().attr("id",i.removeAttr("id").data("placeholder-id"));if(e===!0)return i[0].value=t;i.focus()}else{r.value="";i.removeClass("placeholder");r==d()&&r.select()}}function p(){var e,t=this,r=n(t),i=this.id;if(t.value==""){if(t.type=="password"){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(s){e=n("<input>").attr(n.extend(c(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":r,"placeholder-id":i}).bind("focus.placeholder",h);r.data({"placeholder-textinput":e,"placeholder-id":i}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",i).show()}r.addClass("placeholder");r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}function d(){try{return t.activeElement}catch(e){}}var r=Object.prototype.toString.call(e.operamini)=="[object OperaMini]",i="placeholder"in t.createElement("input")&&!r,s="placeholder"in t.createElement("textarea")&&!r,o=n.fn,u=n.valHooks,a=n.propHooks,f,l;if(i&&s){l=o.placeholder=function(){return this};l.input=l.textarea=!0}else{l=o.placeholder=function(){var e=this;e.filter((i?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":h,"blur.placeholder":p}).data("placeholder-enabled",!0).trigger("blur.placeholder");return e};l.input=i;l.textarea=s;f={get:function(e){var t=n(e),r=t.data("placeholder-password");return r?r[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var r=n(e),i=r.data("placeholder-password");if(i)return i[0].value=t;if(!r.data("placeholder-enabled"))return e.value=t;if(t==""){e.value=t;e!=d()&&p.call(e)}else r.hasClass("placeholder")?h.call(e,!0,t)||(e.value=t):e.value=t;return r}};if(!i){u.input=f;a.value=f}if(!s){u.textarea=f;a.value=f}n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(h);setTimeout(function(){e.each(p)},10)})});n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})})}})(this,document,jQuery);$(window).load(function(){$("input, textarea").placeholder()});$(".m-next-section").click(function(){$("html,body").animate({scrollTop:$(this.hash).offset().top+40},400);return!1});$(".backtotop").click(function(){$("html, body").animate({scrollTop:0},800);return!1});$(".loader").click(function(){$("html, body").animate({scrollTop:2},0);return!1});$(".design-more").click(function(e){$(".ref-overlay").addClass("active");$(".ref-overlay-wrap").addClass("active");$(".ref-overlay-content").addClass("active");$(".ref-overlay-close").addClass("active");return!1});$(".ref-overlay-close").click(function(e){$(".ref-overlay-content").removeClass("active");$(".ref-overlay-close").removeClass("active");$(".ref-overlay").removeClass("active");$(".ref-overlay-wrap").removeClass("active");return!1});$(".myvcard").click(function(){ga("send","pageview","/vcard-downloaded.html")});var contactForm=$("#contact-form"),thxMsg=$(".thx-message"),sendMail=function(){var e=!0,t=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(jQuery("#name").val()==""){e=!1;$(contactForm).append("<span class='form-error'>!</span>")}if(!t.test(jQuery("#email").val())||jQuery("#email").val()==""){e=!1;$("#contact-form .sixcol.last").append("<span class='form-error'>!</span>")}if(jQuery("#message").val()==""){e=!1;$("#contact-form .descr").append("<span class='form-error'>!</span>")}e==0&&$("#contact-form .form-error").addClass("active");if(e){var n={action:"SendMessage",name:jQuery("#name").val(),phone:jQuery("#phone").val(),email:jQuery("#email").val(),message:jQuery("#message").val()};jQuery.ajax({type:"POST",url:"/library/php/mainHandler.php",data:n,success:function(e){if(e){ga("send","pageview","/contact-form-sent.html");contactForm.css("visibility","hidden");setTimeout(function(){$("#name, #phone, #email, #message").val("");$("#contact-form .form-error").remove();thxMsg.css("visibility","visible").addClass("active")},410);setTimeout(function(){thxMsg.removeClass("active")},5e3);setTimeout(function(){contactForm.css("visibility","visible");thxMsg.css("visibility","hidden")},5410)}},error:function(e,t,n){var r=null;switch(e.status){case"301":r="Redirection Error!";break;case"307":r="Error, temporary server redirection!";break;case"400":r="Bad request!";break;case"404":r="Page not found!";break;case"500":r="Server is currently unavailable!";break;default:r="Unespected error, please try again later."}r&&alert(r)}})}};$("textarea").focus(function(){$(".submit").addClass("active")});$("input").focus(function(){$(this).parent().find(">.form-error").removeClass("active");setTimeout(function(){$(this).parent().find(">.form-error").remove()},300)});$("textarea").focus(function(){$("#contact-form .descr .form-error").removeClass("active");setTimeout(function(){$("#contact-form .descr .form-error").remove()},300)});$(window).load(function(){$("#contact-form input[type='submit']").click(function(e){e.preventDefault();sendMail()})});